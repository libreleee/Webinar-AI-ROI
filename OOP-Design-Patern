# ğŸ“š ê°ì²´ ì§€í–¥ í”„ë¡œê·¸ë˜ë° (OOP) & ë””ìì¸ íŒ¨í„´

## ëª©ì°¨
1. [ê°ì²´ ì§€í–¥ í”„ë¡œê·¸ë˜ë° ê¸°ë³¸ ê°œë…](#1-ê°ì²´-ì§€í–¥-í”„ë¡œê·¸ë˜ë°-ê¸°ë³¸-ê°œë…)
2. [SOLID ì›ì¹™](#2-solid-ì›ì¹™)
3. [ë””ìì¸ íŒ¨í„´ (GoF 23ê°€ì§€)](#3-ë””ìì¸-íŒ¨í„´-gof-23ê°€ì§€)
4. [ì‹¤ë¬´ ì ìš© ì‚¬ë¡€](#4-ì‹¤ë¬´-ì ìš©-ì‚¬ë¡€)

---

## 1. ê°ì²´ ì§€í–¥ í”„ë¡œê·¸ë˜ë° ê¸°ë³¸ ê°œë…

### 1.1 OOPì˜ 4ëŒ€ í•µì‹¬ ì›ì¹™

#### ğŸ”’ ìº¡ìŠí™” (Encapsulation)
- **ì •ì˜**: ë°ì´í„°ì™€ ë©”ì„œë“œë¥¼ í•˜ë‚˜ì˜ ë‹¨ìœ„ë¡œ ë¬¶ê³ , ì™¸ë¶€ë¡œë¶€í„° ë‚´ë¶€ êµ¬í˜„ì„ ìˆ¨ê¸°ëŠ” ê²ƒ
- **ëª©ì **: ì •ë³´ ì€ë‹‰, ëª¨ë“ˆí™”, ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ

```python
class BankAccount:
    def __init__(self, balance):
        self.__balance = balance  # private ë³€ìˆ˜
    
    def deposit(self, amount):
        if amount > 0:
            self.__balance += amount
    
    def get_balance(self):
        return self.__balance
```

#### ğŸ§¬ ìƒì† (Inheritance)
- **ì •ì˜**: ê¸°ì¡´ í´ë˜ìŠ¤ì˜ ì†ì„±ê³¼ ë©”ì„œë“œë¥¼ ìƒˆë¡œìš´ í´ë˜ìŠ¤ê°€ ë¬¼ë ¤ë°›ëŠ” ê²ƒ
- **ëª©ì **: ì½”ë“œ ì¬ì‚¬ìš©, ê³„ì¸µ êµ¬ì¡° í‘œí˜„

```java
class Animal {
    void eat() { System.out.println("Eating..."); }
}

class Dog extends Animal {
    void bark() { System.out.println("Barking..."); }
}
```

#### ğŸ­ ë‹¤í˜•ì„± (Polymorphism)
- **ì •ì˜**: ê°™ì€ ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•´ ë‹¤ë¥¸ ë™ì‘ì„ ìˆ˜í–‰í•˜ëŠ” ëŠ¥ë ¥
- **ì¢…ë¥˜**: 
  - ì˜¤ë²„ë¡œë”© (Overloading): ì»´íŒŒì¼ íƒ€ì„ ë‹¤í˜•ì„±
  - ì˜¤ë²„ë¼ì´ë”© (Overriding): ëŸ°íƒ€ì„ ë‹¤í˜•ì„±

```cpp
class Shape {
public:
    virtual double area() = 0;  // ìˆœìˆ˜ ê°€ìƒ í•¨ìˆ˜
};

class Circle : public Shape {
    double radius;
public:
    double area() override { return 3.14 * radius * radius; }
};

class Rectangle : public Shape {
    double width, height;
public:
    double area() override { return width * height; }
};
```

#### ğŸ¨ ì¶”ìƒí™” (Abstraction)
- **ì •ì˜**: ë³µì¡í•œ ì‹œìŠ¤í…œì—ì„œ í•µì‹¬ ê°œë…ë§Œ ì¶”ì¶œí•˜ê³  ë¶ˆí•„ìš”í•œ ì„¸ë¶€ì‚¬í•­ì„ ìˆ¨ê¸°ëŠ” ê²ƒ
- **ëª©ì **: ë³µì¡ë„ ê°ì†Œ, ì„¤ê³„ ëª…í™•í™”

```python
from abc import ABC, abstractmethod

class PaymentProcessor(ABC):
    @abstractmethod
    def process_payment(self, amount):
        pass

class CreditCardProcessor(PaymentProcessor):
    def process_payment(self, amount):
        print(f"Processing ${amount} via Credit Card")

class PayPalProcessor(PaymentProcessor):
    def process_payment(self, amount):
        print(f"Processing ${amount} via PayPal")
```

---

## 2. SOLID ì›ì¹™

SOLIDëŠ” ë¡œë²„íŠ¸ ë§ˆí‹´(Robert C. Martin)ì´ ì œì•ˆí•œ 5ê°€ì§€ ê°ì²´ ì§€í–¥ ì„¤ê³„ ì›ì¹™ì…ë‹ˆë‹¤.

### 2.1 ë‹¨ì¼ ì±…ì„ ì›ì¹™(SRP) ì¤€ìˆ˜

**"í•œ í´ë˜ìŠ¤ëŠ” í•˜ë‚˜ì˜ ì±…ì„ë§Œ ê°€ì ¸ì•¼ í•œë‹¤"**  
**Single Responsibility Principle: A class should have only one reason to change**

#### ì™œ ì¤‘ìš”í•œê°€?
- ì½”ë“œ ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ
- í…ŒìŠ¤íŠ¸ ìš©ì´ì„± ì¦ê°€
- ê²°í•©ë„(Coupling) ê°ì†Œ
- ì‘ì§‘ë„(Cohesion) ì¦ê°€

#### âŒ SRP ìœ„ë°˜ ì‚¬ë¡€:
```python
class User:
    def __init__(self, name, email):
        self.name = name
        self.email = email
    
    def save_to_database(self):
        # ë°ì´í„°ë² ì´ìŠ¤ ì €ì¥ ë¡œì§
        # ë¬¸ì œ: User í´ë˜ìŠ¤ê°€ ì €ì¥ ì±…ì„ë„ ê°€ì§
        pass
    
    def send_email(self):
        # ì´ë©”ì¼ ë°œì†¡ ë¡œì§
        # ë¬¸ì œ: User í´ë˜ìŠ¤ê°€ ì´ë©”ì¼ ë°œì†¡ ì±…ì„ë„ ê°€ì§
        pass
    
    def generate_report(self):
        # ë³´ê³ ì„œ ìƒì„± ë¡œì§
        # ë¬¸ì œ: User í´ë˜ìŠ¤ê°€ ë³´ê³ ì„œ ìƒì„± ì±…ì„ë„ ê°€ì§
        pass
```

**ë¬¸ì œì **:
- User í´ë˜ìŠ¤ê°€ 3ê°€ì§€ ì´ìœ ë¡œ ë³€ê²½ë  ìˆ˜ ìˆìŒ (ì‚¬ìš©ì ì •ë³´, ë°ì´í„°ë² ì´ìŠ¤, ì´ë©”ì¼, ë³´ê³ ì„œ)
- ë°ì´í„°ë² ì´ìŠ¤ê°€ ë³€ê²½ë˜ë©´ User í´ë˜ìŠ¤ ìˆ˜ì • í•„ìš”
- ì´ë©”ì¼ ë¡œì§ì´ ë³€ê²½ë˜ë©´ User í´ë˜ìŠ¤ ìˆ˜ì • í•„ìš”

#### âœ… SRP ì¤€ìˆ˜ ì‚¬ë¡€:
```python
class User:
    """ì‚¬ìš©ì ì •ë³´ë§Œ ê´€ë¦¬"""
    def __init__(self, name, email):
        self.name = name
        self.email = email
    
    def get_name(self):
        return self.name
    
    def get_email(self):
        return self.email

class UserRepository:
    """ì‚¬ìš©ì ë°ì´í„°ë² ì´ìŠ¤ ì‘ì—… ì „ë‹´"""
    def save(self, user):
        # ë°ì´í„°ë² ì´ìŠ¤ ì €ì¥ ë¡œì§
        print(f"Saving {user.name} to database")
    
    def find_by_email(self, email):
        # ë°ì´í„°ë² ì´ìŠ¤ ì¡°íšŒ ë¡œì§
        pass
    
    def delete(self, user):
        # ë°ì´í„°ë² ì´ìŠ¤ ì‚­ì œ ë¡œì§
        pass

class EmailService:
    """ì´ë©”ì¼ ë°œì†¡ ì „ë‹´"""
    def send(self, user, message):
        # ì´ë©”ì¼ ë°œì†¡ ë¡œì§
        print(f"Sending email to {user.email}: {message}")
    
    def send_welcome_email(self, user):
        self.send(user, "Welcome!")

class UserReportGenerator:
    """ì‚¬ìš©ì ë³´ê³ ì„œ ìƒì„± ì „ë‹´"""
    def generate(self, users):
        # ë³´ê³ ì„œ ìƒì„± ë¡œì§
        print(f"Generating report for {len(users)} users")

# ì‚¬ìš© ì˜ˆì‹œ
user = User("John Doe", "john@example.com")
repository = UserRepository()
email_service = EmailService()
report_generator = UserReportGenerator()

repository.save(user)
email_service.send_welcome_email(user)
report_generator.generate([user])
```

**ì¥ì **:
- ê° í´ë˜ìŠ¤ê°€ ë‹¨ì¼ ì±…ì„ë§Œ ê°€ì§
- ë³€ê²½ ì‚¬í•­ì´ í•œ í´ë˜ìŠ¤ì—ë§Œ ì˜í–¥
- í…ŒìŠ¤íŠ¸ê°€ ì‰¬ì›€
- ì¬ì‚¬ìš©ì„± ì¦ê°€

### 2.2 ê°œë°©/íì‡„ ì›ì¹™(OCP) ì¤€ìˆ˜

**"ì†Œí”„íŠ¸ì›¨ì–´ ì—”í‹°í‹°ëŠ” í™•ì¥ì—ëŠ” ì—´ë ¤ ìˆì–´ì•¼ í•˜ê³ , ìˆ˜ì •ì—ëŠ” ë‹«í˜€ ìˆì–´ì•¼ í•œë‹¤"**  
**Open/Closed Principle: Open for extension, closed for modification**

#### ì™œ ì¤‘ìš”í•œê°€?
- ê¸°ì¡´ ì½”ë“œ ìˆ˜ì • ì—†ì´ ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€
- ë²„ê·¸ ë°œìƒ ìœ„í—˜ ê°ì†Œ
- ì‹œìŠ¤í…œ ì•ˆì •ì„± í–¥ìƒ
- ìœ ì—°í•œ ì„¤ê³„

#### âŒ OCP ìœ„ë°˜ ì‚¬ë¡€:
```java
class DiscountCalculator {
    public double calculate(String customerType, double amount) {
        if (customerType.equals("Regular")) {
            return amount * 0.1;
        } else if (customerType.equals("Premium")) {
            return amount * 0.2;
        } else if (customerType.equals("VIP")) {
            return amount * 0.3;
        }
        // ìƒˆë¡œìš´ ê³ ê° íƒ€ì… ì¶”ê°€ ì‹œ ì´ ë©”ì„œë“œë¥¼ ìˆ˜ì •í•´ì•¼ í•¨!
        return 0;
    }
}
```

**ë¬¸ì œì **:
- ìƒˆë¡œìš´ ê³ ê° íƒ€ì… ì¶”ê°€ ì‹œ ê¸°ì¡´ ì½”ë“œ ìˆ˜ì • í•„ìš”
- if-else ì²´ì¸ì´ ê¸¸ì–´ì§ˆìˆ˜ë¡ ë³µì¡ë„ ì¦ê°€
- ìˆ˜ì • ì‹œ ê¸°ì¡´ ë¡œì§ì— ë²„ê·¸ ë°œìƒ ê°€ëŠ¥ì„±

#### âœ… OCP ì¤€ìˆ˜ ì‚¬ë¡€:
```java
// ì¶”ìƒí™”ë¥¼ í†µí•œ í™•ì¥ ê°€ëŠ¥í•œ ì„¤ê³„
interface DiscountStrategy {
    double calculate(double amount);
}

class RegularDiscount implements DiscountStrategy {
    public double calculate(double amount) {
        return amount * 0.1;
    }
}

class PremiumDiscount implements DiscountStrategy {
    public double calculate(double amount) {
        return amount * 0.2;
    }
}

class VIPDiscount implements DiscountStrategy {
    public double calculate(double amount) {
        return amount * 0.3;
    }
}

// ìƒˆë¡œìš´ ê³ ê° íƒ€ì… ì¶”ê°€ - ê¸°ì¡´ ì½”ë“œ ìˆ˜ì • ì—†ìŒ!
class GoldDiscount implements DiscountStrategy {
    public double calculate(double amount) {
        return amount * 0.35;
    }
}

class PlatinumDiscount implements DiscountStrategy {
    public double calculate(double amount) {
        return amount * 0.4;
    }
}

class DiscountCalculator {
    private DiscountStrategy strategy;
    
    public DiscountCalculator(DiscountStrategy strategy) {
        this.strategy = strategy;
    }
    
    public double calculate(double amount) {
        return strategy.calculate(amount);
    }
    
    // ì „ëµ ë³€ê²½ ê°€ëŠ¥
    public void setStrategy(DiscountStrategy strategy) {
        this.strategy = strategy;
    }
}

// ì‚¬ìš© ì˜ˆì‹œ
DiscountCalculator calculator = new DiscountCalculator(new RegularDiscount());
System.out.println(calculator.calculate(100));  // 10.0

calculator.setStrategy(new VIPDiscount());
System.out.println(calculator.calculate(100));  // 30.0

calculator.setStrategy(new GoldDiscount());
System.out.println(calculator.calculate(100));  // 35.0
```

#### Pythonì—ì„œì˜ OCP ì¤€ìˆ˜:
```python
from abc import ABC, abstractmethod

class PaymentMethod(ABC):
    """í™•ì¥ ê°€ëŠ¥í•œ ê²°ì œ ë°©ë²• ì¸í„°í˜ì´ìŠ¤"""
    @abstractmethod
    def process(self, amount):
        pass

class CreditCardPayment(PaymentMethod):
    def process(self, amount):
        print(f"Processing ${amount} via Credit Card")
        return True

class PayPalPayment(PaymentMethod):
    def process(self, amount):
        print(f"Processing ${amount} via PayPal")
        return True

class BitcoinPayment(PaymentMethod):
    def process(self, amount):
        print(f"Processing ${amount} via Bitcoin")
        return True

# ìƒˆë¡œìš´ ê²°ì œ ë°©ë²• ì¶”ê°€ - ê¸°ì¡´ ì½”ë“œ ìˆ˜ì • ì—†ìŒ!
class ApplePayPayment(PaymentMethod):
    def process(self, amount):
        print(f"Processing ${amount} via Apple Pay")
        return True

class PaymentProcessor:
    def __init__(self, payment_method: PaymentMethod):
        self.payment_method = payment_method
    
    def checkout(self, amount):
        return self.payment_method.process(amount)

# ì‚¬ìš© ì˜ˆì‹œ
processor = PaymentProcessor(CreditCardPayment())
processor.checkout(100)

processor = PaymentProcessor(BitcoinPayment())
processor.checkout(200)

processor = PaymentProcessor(ApplePayPayment())
processor.checkout(300)
```

**ì¥ì **:
- ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€ ì‹œ ê¸°ì¡´ ì½”ë“œ ì•ˆì „
- í™•ì¥ì´ ìš©ì´í•¨
- ë‹¤í˜•ì„± í™œìš©
- í…ŒìŠ¤íŠ¸ê°€ ë…ë¦½ì 

### 2.3 ë¦¬ìŠ¤ì½”í”„ ì¹˜í™˜ ì›ì¹™ (LSP: Liskov Substitution Principle)

**"ìì‹ í´ë˜ìŠ¤ëŠ” ë¶€ëª¨ í´ë˜ìŠ¤ë¥¼ ëŒ€ì²´í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤"**

âŒ **ë‚˜ìœ ì˜ˆ:**
```python
class Bird:
    def fly(self):
        print("Flying")

class Penguin(Bird):
    def fly(self):
        raise Exception("Penguins can't fly!")  # LSP ìœ„ë°˜
```

âœ… **ì¢‹ì€ ì˜ˆ:**
```python
class Bird:
    def move(self):
        pass

class FlyingBird(Bird):
    def move(self):
        print("Flying")

class Penguin(Bird):
    def move(self):
        print("Swimming")
```

### 2.4 ì¸í„°í˜ì´ìŠ¤ ë¶„ë¦¬ ì›ì¹™ (ISP: Interface Segregation Principle)

**"í´ë¼ì´ì–¸íŠ¸ëŠ” ìì‹ ì´ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ë©”ì„œë“œì— ì˜ì¡´í•˜ì§€ ì•Šì•„ì•¼ í•œë‹¤"**

âŒ **ë‚˜ìœ ì˜ˆ:**
```java
interface Worker {
    void work();
    void eat();
    void sleep();
}

class Robot implements Worker {
    public void work() { /* ... */ }
    public void eat() { /* ë¡œë´‡ì€ ë¨¹ì§€ ì•ŠìŒ */ }
    public void sleep() { /* ë¡œë´‡ì€ ìì§€ ì•ŠìŒ */ }
}
```

âœ… **ì¢‹ì€ ì˜ˆ:**
```java
interface Workable {
    void work();
}

interface Eatable {
    void eat();
}

interface Sleepable {
    void sleep();
}

class Human implements Workable, Eatable, Sleepable {
    public void work() { /* ... */ }
    public void eat() { /* ... */ }
    public void sleep() { /* ... */ }
}

class Robot implements Workable {
    public void work() { /* ... */ }
}
```

### 2.5 ì˜ì¡´ì„± ì—­ì „ ì›ì¹™(DIP) ì¤€ìˆ˜

**"ê³ ìˆ˜ì¤€ ëª¨ë“ˆì€ ì €ìˆ˜ì¤€ ëª¨ë“ˆì— ì˜ì¡´í•´ì„œëŠ” ì•ˆ ë˜ë©°, ë‘˜ ë‹¤ ì¶”ìƒí™”ì— ì˜ì¡´í•´ì•¼ í•œë‹¤"**  
**Dependency Inversion Principle: Depend on abstractions, not concretions**

#### ì™œ ì¤‘ìš”í•œê°€?
- ëŠìŠ¨í•œ ê²°í•©(Loose Coupling)
- í…ŒìŠ¤íŠ¸ ìš©ì´ì„± (Mock ê°ì²´ ì‚¬ìš© ê°€ëŠ¥)
- ìœ ì—°í•œ ì‹œìŠ¤í…œ êµ¬ì¡°
- ì˜ì¡´ì„± ì£¼ì…(Dependency Injection) ê°€ëŠ¥

#### âŒ DIP ìœ„ë°˜ ì‚¬ë¡€:
```python
class MySQLDatabase:
    """êµ¬ì²´ì ì¸ ë°ì´í„°ë² ì´ìŠ¤ êµ¬í˜„"""
    def save(self, data):
        print(f"Saving {data} to MySQL database")
    
    def find(self, id):
        print(f"Finding {id} in MySQL")
        return None

class UserService:
    def __init__(self):
        # ë¬¸ì œ: êµ¬ì²´ì ì¸ í´ë˜ìŠ¤ì— ì§ì ‘ ì˜ì¡´
        self.database = MySQLDatabase()
    
    def save_user(self, user):
        self.database.save(user)
    
    def get_user(self, user_id):
        return self.database.find(user_id)

# ì‚¬ìš©
service = UserService()
service.save_user("John")
```

**ë¬¸ì œì **:
- PostgreSQLë¡œ ë³€ê²½í•˜ë ¤ë©´ UserService ì½”ë“œ ìˆ˜ì • í•„ìš”
- í…ŒìŠ¤íŠ¸ ì‹œ ì‹¤ì œ MySQL ë°ì´í„°ë² ì´ìŠ¤ í•„ìš”
- UserServiceê°€ MySQLDatabaseì— ê°•í•˜ê²Œ ê²°í•©ë¨
- ë‹¤ë¥¸ ë°ì´í„°ë² ì´ìŠ¤ë¡œ êµì²´ ì–´ë ¤ì›€

#### âœ… DIP ì¤€ìˆ˜ ì‚¬ë¡€:
```python
from abc import ABC, abstractmethod

# ì¶”ìƒí™” (ì¸í„°í˜ì´ìŠ¤)
class Database(ABC):
    """ë°ì´í„°ë² ì´ìŠ¤ ì¸í„°í˜ì´ìŠ¤ - ì¶”ìƒí™”"""
    @abstractmethod
    def save(self, data):
        pass
    
    @abstractmethod
    def find(self, id):
        pass
    
    @abstractmethod
    def delete(self, id):
        pass

# êµ¬ì²´ì ì¸ êµ¬í˜„ë“¤
class MySQLDatabase(Database):
    """MySQL êµ¬í˜„"""
    def save(self, data):
        print(f"Saving {data} to MySQL")
    
    def find(self, id):
        print(f"Finding {id} in MySQL")
        return None
    
    def delete(self, id):
        print(f"Deleting {id} from MySQL")

class PostgreSQLDatabase(Database):
    """PostgreSQL êµ¬í˜„"""
    def save(self, data):
        print(f"Saving {data} to PostgreSQL")
    
    def find(self, id):
        print(f"Finding {id} in PostgreSQL")
        return None
    
    def delete(self, id):
        print(f"Deleting {id} from PostgreSQL")

class MongoDBDatabase(Database):
    """MongoDB êµ¬í˜„"""
    def save(self, data):
        print(f"Saving {data} to MongoDB")
    
    def find(self, id):
        print(f"Finding {id} in MongoDB")
        return None
    
    def delete(self, id):
        print(f"Deleting {id} from MongoDB")

class UserService:
    """ê³ ìˆ˜ì¤€ ëª¨ë“ˆ - ì¶”ìƒí™”ì— ì˜ì¡´"""
    def __init__(self, database: Database):
        # ì¤‘ìš”: ì¶”ìƒí™”(Database)ì— ì˜ì¡´
        self.database = database
    
    def save_user(self, user):
        self.database.save(user)
    
    def get_user(self, user_id):
        return self.database.find(user_id)
    
    def remove_user(self, user_id):
        self.database.delete(user_id)

# ì‚¬ìš© ì˜ˆì‹œ - ìœ ì—°í•œ ë°ì´í„°ë² ì´ìŠ¤ ì„ íƒ
mysql_db = MySQLDatabase()
user_service = UserService(mysql_db)
user_service.save_user("John")

# PostgreSQLë¡œ ì‰½ê²Œ êµì²´ ê°€ëŠ¥
postgres_db = PostgreSQLDatabase()
user_service = UserService(postgres_db)
user_service.save_user("Jane")

# MongoDBë¡œë„ ì‰½ê²Œ êµì²´ ê°€ëŠ¥
mongo_db = MongoDBDatabase()
user_service = UserService(mongo_db)
user_service.save_user("Bob")
```

#### Javaì—ì„œì˜ DIP ì¤€ìˆ˜:
```java
// ì¶”ìƒí™”
interface MessageSender {
    void send(String message, String recipient);
}

// êµ¬ì²´ì ì¸ êµ¬í˜„ë“¤
class EmailSender implements MessageSender {
    public void send(String message, String recipient) {
        System.out.println("Sending email to " + recipient + ": " + message);
    }
}

class SMSSender implements MessageSender {
    public void send(String message, String recipient) {
        System.out.println("Sending SMS to " + recipient + ": " + message);
    }
}

class PushNotificationSender implements MessageSender {
    public void send(String message, String recipient) {
        System.out.println("Sending push notification to " + recipient + ": " + message);
    }
}

// ê³ ìˆ˜ì¤€ ëª¨ë“ˆ
class NotificationService {
    private MessageSender messageSender;
    
    // ì˜ì¡´ì„± ì£¼ì… (Dependency Injection)
    public NotificationService(MessageSender messageSender) {
        this.messageSender = messageSender;
    }
    
    public void notify(String message, String recipient) {
        messageSender.send(message, recipient);
    }
    
    // Setter ì£¼ì…ë„ ê°€ëŠ¥
    public void setMessageSender(MessageSender messageSender) {
        this.messageSender = messageSender;
    }
}

// ì‚¬ìš© ì˜ˆì‹œ
NotificationService service = new NotificationService(new EmailSender());
service.notify("Hello!", "user@example.com");

// ëŸ°íƒ€ï¿½ï¿½ì— ì „ëµ ë³€ê²½ ê°€ëŠ¥
service.setMessageSender(new SMSSender());
service.notify("Hello!", "+1234567890");

service.setMessageSender(new PushNotificationSender());
service.notify("Hello!", "user_device_id");
```

#### í…ŒìŠ¤íŠ¸ì—ì„œì˜ DIP í™œìš©:
```python
class MockDatabase(Database):
    """í…ŒìŠ¤íŠ¸ìš© Mock ë°ì´í„°ë² ì´ìŠ¤"""
    def __init__(self):
        self.saved_data = []
    
    def save(self, data):
        self.saved_data.append(data)
        return True
    
    def find(self, id):
        return self.saved_data[id] if id < len(self.saved_data) else None
    
    def delete(self, id):
        if id < len(self.saved_data):
            del self.saved_data[id]

# ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
def test_user_service():
    # ì‹¤ì œ ë°ì´í„°ë² ì´ìŠ¤ ëŒ€ì‹  Mock ì‚¬ìš©
    mock_db = MockDatabase()
    service = UserService(mock_db)
    
    # í…ŒìŠ¤íŠ¸
    service.save_user("Test User")
    assert len(mock_db.saved_data) == 1
    assert mock_db.saved_data[0] == "Test User"
    
    print("âœ… Test passed!")

test_user_service()
```

**DIPì˜ í•µì‹¬ ì¥ì **:
1. **êµì²´ ê°€ëŠ¥ì„±**: êµ¬í˜„ì²´ë¥¼ ì‰½ê²Œ êµì²´ ê°€ëŠ¥
2. **í…ŒìŠ¤íŠ¸ ìš©ì´**: Mock ê°ì²´ë¡œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥
3. **ëŠìŠ¨í•œ ê²°í•©**: ëª¨ë“ˆ ê°„ ë…ë¦½ì„± ì¦ê°€
4. **í™•ì¥ì„±**: ìƒˆë¡œìš´ êµ¬í˜„ ì¶”ê°€ ìš©ì´

---

## 3. ë””ìì¸ íŒ¨í„´ (GoF 23ê°€ì§€)

### 3.1 ìƒì„± íŒ¨í„´ (Creational Patterns)

#### ğŸ”· ì‹±ê¸€í†¤ íŒ¨í„´ (Singleton Pattern)
**ëª©ì **: í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ê°€ ì˜¤ì§ í•˜ë‚˜ë§Œ ìƒì„±ë˜ë„ë¡ ë³´ì¥

```python
class Singleton:
    _instance = None
    
    def __new__(cls):
        if cls._instance is None:
            cls._instance = super().__new__(cls)
        return cls._instance

# ì‚¬ìš©
s1 = Singleton()
s2 = Singleton()
print(s1 is s2)  # True
```

**ì‹¤ë¬´ í™œìš©**: ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°, ë¡œê±°, ì„¤ì • ê´€ë¦¬ì

#### ğŸ­ íŒ©í† ë¦¬ ë©”ì„œë“œ íŒ¨í„´ (Factory Method Pattern)
**ëª©ì **: ê°ì²´ ìƒì„± ë¡œì§ì„ ì„œë¸Œí´ë˜ìŠ¤ë¡œ ìœ„ì„

```java
interface Animal {
    void speak();
}

class Dog implements Animal {
    public void speak() { System.out.println("Woof!"); }
}

class Cat implements Animal {
    public void speak() { System.out.println("Meow!"); }
}

abstract class AnimalFactory {
    abstract Animal createAnimal();
    
    public void makeAnimalSpeak() {
        Animal animal = createAnimal();
        animal.speak();
    }
}

class DogFactory extends AnimalFactory {
    Animal createAnimal() {
        return new Dog();
    }
}

class CatFactory extends AnimalFactory {
    Animal createAnimal() {
        return new Cat();
    }
}
```

#### ğŸ—ï¸ ë¹Œë” íŒ¨í„´ (Builder Pattern)
**ëª©ì **: ë³µì¡í•œ ê°ì²´ì˜ ìƒì„± ê³¼ì •ì„ ë‹¨ê³„ë³„ë¡œ ë¶„ë¦¬

```python
class Pizza:
    def __init__(self):
        self.dough = None
        self.sauce = None
        self.topping = None
    
    def __str__(self):
        return f"Pizza with {self.dough} dough, {self.sauce} sauce, {self.topping} topping"

class PizzaBuilder:
    def __init__(self):
        self.pizza = Pizza()
    
    def set_dough(self, dough):
        self.pizza.dough = dough
        return self
    
    def set_sauce(self, sauce):
        self.pizza.sauce = sauce
        return self
    
    def set_topping(self, topping):
        self.pizza.topping = topping
        return self
    
    def build(self):
        return self.pizza

# ì‚¬ìš©
pizza = (PizzaBuilder()
         .set_dough("thin")
         .set_sauce("tomato")
         .set_topping("mozzarella")
         .build())
```

#### ğŸ‘ í”„ë¡œí† íƒ€ì… íŒ¨í„´ (Prototype Pattern)
**ëª©ì **: ê¸°ì¡´ ê°ì²´ë¥¼ ë³µì œí•˜ì—¬ ìƒˆ ê°ì²´ ìƒì„±

```python
import copy

class Prototype:
    def clone(self):
        return copy.deepcopy(self)

class Person(Prototype):
    def __init__(self, name, age, address):
        self.name = name
        self.age = age
        self.address = address

# ì‚¬ìš©
original = Person("John", 30, {"city": "Seoul"})
cloned = original.clone()
cloned.name = "Jane"
```

#### ğŸ¢ ì¶”ìƒ íŒ©í† ë¦¬ íŒ¨í„´ (Abstract Factory Pattern)
**ëª©ì **: ê´€ë ¨ëœ ê°ì²´ë“¤ì˜ íŒ¨ë°€ë¦¬ë¥¼ ìƒì„±

```java
interface GUIFactory {
    Button createButton();
    Checkbox createCheckbox();
}

class WindowsFactory implements GUIFactory {
    public Button createButton() {
        return new WindowsButton();
    }
    public Checkbox createCheckbox() {
        return new WindowsCheckbox();
    }
}

class MacFactory implements GUIFactory {
    public Button createButton() {
        return new MacButton();
    }
    public Checkbox createCheckbox() {
        return new MacCheckbox();
    }
}
```

### 3.2 êµ¬ì¡° íŒ¨í„´ (Structural Patterns)

#### ğŸ”Œ ì–´ëŒ‘í„° íŒ¨í„´ (Adapter Pattern)
**ëª©ì **: í˜¸í™˜ë˜ì§€ ì•ŠëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ì—°ê²°

```python
class EuropeanSocket:
    def voltage(self):
        return 230

class USASocket:
    def voltage(self):
        return 120

class Adapter:
    def __init__(self, socket):
        self.socket = socket
    
    def voltage(self):
        return self.socket.voltage() // 2

# ì‚¬ìš©
euro_socket = EuropeanSocket()
adapter = Adapter(euro_socket)
print(adapter.voltage())  # 115
```

#### ğŸ ë°ì½”ë ˆì´í„° íŒ¨í„´ (Decorator Pattern)
**ëª©ì **: ê°ì²´ì— ë™ì ìœ¼ë¡œ ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€

```python
class Coffee:
    def cost(self):
        return 5
    
    def description(self):
        return "Coffee"

class MilkDecorator:
    def __init__(self, coffee):
        self._coffee = coffee
    
    def cost(self):
        return self._coffee.cost() + 2
    
    def description(self):
        return self._coffee.description() + ", Milk"

class SugarDecorator:
    def __init__(self, coffee):
        self._coffee = coffee
    
    def cost(self):
        return self._coffee.cost() + 1
    
    def description(self):
        return self._coffee.description() + ", Sugar"

# ì‚¬ìš©
coffee = Coffee()
coffee = MilkDecorator(coffee)
coffee = SugarDecorator(coffee)
print(f"{coffee.description()}: ${coffee.cost()}")
# Coffee, Milk, Sugar: $8
```

### 3.3 í–‰ìœ„ íŒ¨í„´ (Behavioral Patterns)

#### ğŸ‘ï¸ ì˜µì €ë²„ íŒ¨í„´ (Observer Pattern)
**ëª©ì **: ê°ì²´ì˜ ìƒíƒœ ë³€í™”ë¥¼ ê´€ì°°ìë“¤ì—ê²Œ ìë™ í†µì§€

```python
class Subject:
    def __init__(self):
        self._observers = []
        self._state = None
    
    def attach(self, observer):
        self._observers.append(observer)
    
    def detach(self, observer):
        self._observers.remove(observer)
    
    def notify(self):
        for observer in self._observers:
            observer.update(self._state)
    
    def set_state(self, state):
        self._state = state
        self.notify()

class Observer:
    def __init__(self, name):
        self._name = name
    
    def update(self, state):
        print(f"{self._name} received update: {state}")

# ì‚¬ìš©
subject = Subject()

observer1 = Observer("Observer 1")
observer2 = Observer("Observer 2")

subject.attach(observer1)
subject.attach(observer2)

subject.set_state("State A")
```

#### ğŸ¯ ì „ëµ íŒ¨í„´ (Strategy Pattern)
**ëª©ì **: ì•Œê³ ë¦¬ì¦˜ì„ ìº¡ìŠí™”í•˜ê³  êµí™˜ ê°€ëŠ¥í•˜ê²Œ ë§Œë“¦

```java
interface PaymentStrategy {
    void pay(int amount);
}

class CreditCardStrategy implements PaymentStrategy {
    private String cardNumber;
    
    public CreditCardStrategy(String cardNumber) {
        this.cardNumber = cardNumber;
    }
    
    public void pay(int amount) {
        System.out.println("Paid " + amount + " using Credit Card");
    }
}

class PayPalStrategy implements PaymentStrategy {
    private String email;
    
    public PayPalStrategy(String email) {
        this.email = email;
    }
    
    public void pay(int amount) {
        System.out.println("Paid " + amount + " using PayPal");
    }
}

class ShoppingCart {
    private PaymentStrategy paymentStrategy;
    
    public void setPaymentStrategy(PaymentStrategy strategy) {
        this.paymentStrategy = strategy;
    }
    
    public void checkout(int amount) {
        paymentStrategy.pay(amount);
    }
}
```

---

## 4. ì‹¤ë¬´ ì ìš© ì‚¬ë¡€

### 4.1 ì „ììƒê±°ë˜ ì‹œìŠ¤í…œì—ì„œ SOLID ì›ì¹™ ì ìš©

```python
# SRP ì¤€ìˆ˜: ê° í´ë˜ìŠ¤ê°€ ë‹¨ì¼ ì±…ì„
class Product:
    """ìƒí’ˆ ì •ë³´ë§Œ ê´€ë¦¬"""
    def __init__(self, name, price):
        self.name = name
        self.price = price

class Order:
    """ì£¼ë¬¸ ì •ë³´ë§Œ ê´€ë¦¬"""
    def __init__(self):
        self.items = []
    
    def add_item(self, product, quantity):
        self.items.append({"product": product, "quantity": quantity})

class OrderCalculator:
    """ì£¼ë¬¸ ê¸ˆì•¡ ê³„ì‚° ì „ë‹´"""
    def calculate_total(self, order):
        total = 0
        for item in order.items:
            total += item["product"].price * item["quantity"]
        return total

# OCP ì¤€ìˆ˜: í™•ì¥ ê°€ëŠ¥í•œ í• ì¸ ì „ëµ
from abc import ABC, abstractmethod

class DiscountStrategy(ABC):
    @abstractmethod
    def apply_discount(self, amount):
        pass

class NoDiscount(DiscountStrategy):
    def apply_discount(self, amount):
        return amount

class SeasonalDiscount(DiscountStrategy):
    def apply_discount(self, amount):
        return amount * 0.9  # 10% í• ì¸

class LoyaltyDiscount(DiscountStrategy):
    def apply_discount(self, amount):
        return amount * 0.85  # 15% í• ì¸

# DIP ì¤€ìˆ˜: ì¶”ìƒí™”ì— ì˜ì¡´
class PaymentGateway(ABC):
    @abstractmethod
    def process_payment(self, amount):
        pass

class StripeGateway(PaymentGateway):
    def process_payment(self, amount):
        print(f"Processing ${amount} via Stripe")

class PayPalGateway(PaymentGateway):
    def process_payment(self, amount):
        print(f"Processing ${amount} via PayPal")

class CheckoutService:
    """ê³ ìˆ˜ì¤€ ëª¨ë“ˆ - ì¶”ìƒí™”ì— ì˜ì¡´"""
    def __init__(self, calculator, discount_strategy, payment_gateway):
        self.calculator = calculator
        self.discount_strategy = discount_strategy
        self.payment_gateway = payment_gateway
    
    def checkout(self, order):
        total = self.calculator.calculate_total(order)
        discounted = self.discount_strategy.apply_discount(total)
        self.payment_gateway.process_payment(discounted)

# ì‚¬ìš© ì˜ˆì‹œ
product1 = Product("Laptop", 1000)
product2 = Product("Mouse", 50)

order = Order()
order.add_item(product1, 1)
order.add_item(product2, 2)

calculator = OrderCalculator()
discount = SeasonalDiscount()
payment = StripeGateway()

checkout = CheckoutService(calculator, discount, payment)
checkout.checkout(order)
```

### 4.2 ê²Œì„ ê°œë°œì—ì„œ ë””ìì¸ íŒ¨í„´ ì ìš©

```java
// State Pattern + Command Pattern
interface CharacterState {
    void handleInput(Character character, GameCommand command);
}

class IdleState implements CharacterState {
    public void handleInput(Character character, GameCommand command) {
        if (command instanceof JumpCommand) {
            command.execute();
            character.setState(new JumpingState());
        }
    }
}

interface GameCommand {
    void execute();
    void undo();
}

class JumpCommand implements GameCommand {
    private Character character;
    
    public void execute() {
        character.jump();
    }
    
    public void undo() {
        character.land();
    }
}
```

---

## 5. ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤

### âœ… SOLID ì›ì¹™ì„ ì‹¤ë¬´ì— ì ìš©í•˜ëŠ” ë°©ë²•

1. **SRP ì¤€ìˆ˜**: í´ë˜ìŠ¤ê°€ ì—¬ëŸ¬ ì´ìœ ë¡œ ë³€ê²½ë˜ëŠ”ì§€ í™•ì¸
2. **OCP ì¤€ìˆ˜**: ìƒˆ ê¸°ëŠ¥ ì¶”ê°€ ì‹œ ê¸°ì¡´ ì½”ë“œ ìˆ˜ì • ì—¬ë¶€ í™•ì¸
3. **DIP ì¤€ìˆ˜**: ì¸í„°í˜ì´ìŠ¤ ë˜ëŠ” ì¶”ìƒ í´ë˜ìŠ¤ ì‚¬ìš©

### âœ… ì½”ë“œ ë¦¬ë·° ì‹œ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] ê° í´ë˜ìŠ¤ê°€ ë‹¨ì¼ ì±…ì„ì„ ê°€ì§€ëŠ”ê°€? (SRP)
- [ ] í™•ì¥ ì‹œ ê¸°ì¡´ ì½”ë“œë¥¼ ìˆ˜ì •í•´ì•¼ í•˜ëŠ”ê°€? (OCP)
- [ ] êµ¬ì²´ì ì¸ í´ë˜ìŠ¤ì— ì§ì ‘ ì˜ì¡´í•˜ëŠ”ê°€? (DIP)

---

## 6. ì¶”ê°€ í•™ìŠµ ìë£Œ

### ğŸ“š ì¶”ì²œ ë„ì„œ
1. **"Design Patterns: Elements of Reusable Object-Oriented Software"** - GoF
2. **"Clean Code"** - Robert C. Martin
3. **"Clean Architecture"** - Robert C. Martin
4. **"Head First Design Patterns"** - Eric Freeman
5. **"Refactoring"** - Martin Fowler

---

## 7. ê²°ë¡ 

### SOLID ì›ì¹™ì˜ í•µì‹¬ ê°€ì¹˜

| ì›ì¹™ | í•µì‹¬ ê°€ì¹˜ | íš¨ê³¼ |
|-----|---------|------|
| SRP | ë‹¨ì¼ ì±…ì„ | ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ |
| **OCP** | **í™•ì¥/ìˆ˜ì • ë¶„ë¦¬** | **ì•ˆì •ì„± ì¦ê°€** |
| LSP | ì¹˜í™˜ ê°€ëŠ¥ì„± | ë‹¤í˜•ì„± ë³´ì¥ |
| ISP | ì¸í„°í˜ì´ìŠ¤ ë¶„ë¦¬ | ê²°í•©ë„ ê°ì†Œ |
| **DIP** | **ì¶”ìƒí™” ì˜ì¡´** | **ìœ ì—°ì„± ì¦ê°€** |

**í•µì‹¬ ë©”ì‹œì§€**: 
> "ì¢‹ì€ ì„¤ê³„ëŠ” ë³€ê²½ì„ ì‰½ê²Œ ë§Œë“ ë‹¤. SOLID ì›ì¹™ì€ ë³€ê²½ ê°€ëŠ¥í•œ ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ë§Œë“œëŠ” ê¸°ì´ˆì´ë‹¤."

---

**ì‘ì„±ì**: OOP & Design Pattern Expert  
**ìµœì¢… ìˆ˜ì •**: 2025-12-11  
**ë²„ì „**: 2.0

ğŸ“§ ì§ˆë¬¸ì´ë‚˜ ì œì•ˆì‚¬í•­ì´ ìˆìœ¼ì‹œë©´ ì´ìŠˆë¥¼ ë“±ë¡í•´ì£¼ì„¸ìš”!